<app-calendar-header
  [(view)]="view"
  [(viewDate)]="viewDate"
  (viewDateChange)="updateMenuWithNewMenu()">
</app-calendar-header>
<div align="center" *ngIf="!menu">
  <button (click)="createMenu()"><b>Create Menu</b></button>
</div>
<div *ngIf="menu">
  <app-calendar-week-view *ngIf="mealsInWeek"
  [viewDate]="viewDate"
  [weekStartsOn]=[1]
  [events]="events"
  [menuId]="menu.id"
  [refresh]="refresh"
  [mealsInWeek]="mealsInWeek"
  (eventTimesChanged)="eventTimesChanged($event)"
  (dishAdded)="updateMenuStatsWithDishStats($event)"
  (eventClicked)="handleClickEvent($event)">
  </app-calendar-week-view>
  <br/>
  <div align="center">
    <button mat-raised-button (click)="generateShoppingList()"><b>Shopping List</b></button>
    <button (click)="clearMenu()"><b>Clear menu</b></button>
    <button (click)="randomMenu()"><b>Random menu</b></button>
    <button (click)="validMenu()"><b>Valid menu</b></button>
    <button (click)="saveTemplate()"><b>Save as Template</b></button>
    <button (click)="fillFromTemplate()"><b>Fill from Template</b></button>
    <button (click)="printMenu()"><b>Print menu</b></button>
  </div>
  <br/>
  <app-view-stats-dashboard *ngIf="menu"
  [menu]="menu"
  [userConfs]="userConfs"
  [events]="updateStatsSubject"
  >
  </app-view-stats-dashboard>
</div>
